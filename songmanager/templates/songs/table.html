{% load song_duration_format %}
{% load crispy_forms_tags %}

<h3>Songs</h3>
<div class="d-flex justify-content-between align-items-center mb-1">
	<div>{{ count }} Songs, {{ total_duration | format_total_duration }}</div>
	<button class="btn btn-success" type="button" data-bs-toggle="modal" data-bs-target="#add-modal">Add</button>
</div>
<table class="table table-striped table-bordered">
	<thead>
		<tr>
			<th scope="col">Count</th>
			<th scope="col">Name</th>
			<th scope="col">Duration</th>
			<th scope="col">Status</th>
			<th scope="col">Actions</th>
		</tr>
	</thead>
	<tbody>
		{% for song in songs %}
		<tr>
			<td scope="row">{{forloop.counter}}</td>
			<td>{{song.name}}</td>
			<td>{{song.duration | format_song_duration }}</td>
			<td>{{song.status}}</td>
			<td>
				<span class="d-flex justify-content-end">
					<div class="btn-group">
						<button class="btn btn-sm btn-warning" type="button" data-bs-toggle="modal" data-bs-target="#edit-modal" hx-get="{% url 'song_edit' song.id %}" hx-target="#modal-edit-form">Edit</button>
						<button class="btn btn-sm btn-danger" type="button">Delete</button>
					</div>
				</span>
			</td>
		</tr>
		{% endfor %}
	</tbody>
</table>